<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Dashboard - GroupMela</title>

<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<!-- Firebase Compat SDK -->
<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-database-compat.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
/* ================= Firebase Config ================= */

const firebaseConfig = {
  apiKey: "AIzaSyD1C1mHbmGaBxfdsQ34Cosgoned1Cg5W",
  authDomain: "groupmela.firebaseapp.com",
  databaseURL: "https://groupmela-default-rtdb.firebaseio.com",
  projectId: "groupmela",
  storageBucket: "groupmela.firebasestorage.app",
  messagingSenderId: "608978556223",
  appId: "1:608978556223:web:905c071ee45c2b010d6f8a"
};

/* Initialize Firebase */
firebase.initializeApp(firebaseConfig);
const database = firebase.database();

/* ================= UI Functions ================= */

function showSection(section){
    document.querySelectorAll('.admin-section').forEach(el=>{
        el.classList.remove('active');
    });

    document.getElementById(section+'-section').classList.add('active');
}

function toggleSidebar(){
    document.getElementById("adminSidebar").classList.toggle("active");
}

function logout(){
    alert("Logout Function Not Connected Yet");
}

/* Modal Controls */
function closeModal(){
    document.getElementById("editModal").style.display="none";
}

/* Dummy Refresh Functions */
function forceRefreshPending(){
    loadGroups();
}

function checkFirebaseDirectly(){
    alert("Firebase connection is active.");
}

/* Placeholder Functions (Your script.js may override) */

function loadGroups(){}
function applyFilters(){}
function loadCategories(){}
function loadReports(){}
function addCategory(){}
function saveSettings(){}
function clearAllData(){}
function updateGroup(e){
    e.preventDefault();
}

</script>

</head>

<body>

<div class="admin-wrapper">

<!-- Sidebar -->
<div class="admin-sidebar" id="adminSidebar">
<div class="admin-sidebar-header">
<i class="fas fa-shield-alt"></i>
<h2>GroupMela</h2>
<span>Admin Panel</span>
</div>

<ul class="admin-sidebar-menu">
<li class="active" onclick="showSection('dashboard')">
<i class="fas fa-tachometer-alt"></i> Dashboard
</li>

<li onclick="showSection('pending')">
<i class="fas fa-clock"></i> Pending Groups
<span class="admin-badge" id="pendingCount">0</span>
</li>

<li onclick="showSection('allgroups')">
<i class="fas fa-list"></i> All Groups
</li>

<li onclick="showSection('categories')">
<i class="fas fa-tags"></i> Categories
</li>

<li onclick="showSection('reports')">
<i class="fas fa-flag"></i> Reports
<span class="admin-badge" id="reportsCount">0</span>
</li>

<li onclick="showSection('settings')">
<i class="fas fa-cog"></i> Settings
</li>

<li onclick="logout()">
<i class="fas fa-sign-out-alt"></i> Logout
</li>

</ul>
</div>

<!-- Main Content -->
<div class="admin-main">

<div class="admin-topbar">
<button class="admin-menu-toggle" onclick="toggleSidebar()">
<i class="fas fa-bars"></i>
</button>

<div class="admin-topbar-right">
<i class="fas fa-bell"></i>
<span>Welcome, Admin</span>
</div>
</div>

<div class="admin-content">

<!-- Dashboard Section -->
<div id="dashboard-section" class="admin-section active">
<h1 class="admin-page-title">Dashboard</h1>

<div class="admin-stats-grid">

<div class="admin-stat-card">
<i class="fas fa-users"></i>
<div>
<h3 id="totalGroups">0</h3>
<p>Total Groups</p>
</div>
</div>

<div class="admin-stat-card">
<i class="fas fa-clock"></i>
<div>
<h3 id="pendingGroups">0</h3>
<p>Pending</p>
</div>
</div>

<div class="admin-stat-card">
<i class="fas fa-check-circle"></i>
<div>
<h3 id="approvedGroups">0</h3>
<p>Approved</p>
</div>
</div>

<div class="admin-stat-card">
<i class="fas fa-star"></i>
<div>
<h3 id="featuredGroups">0</h3>
<p>Featured</p>
</div>
</div>

<div class="admin-stat-card">
<i class="fas fa-eye"></i>
<div>
<h3 id="totalViews">0</h3>
<p>Total Views</p>
</div>
</div>

<div class="admin-stat-card">
<i class="fas fa-flag"></i>
<div>
<h3 id="totalReports">0</h3>
<p>Reports</p>
</div>
</div>

</div>

<div class="admin-chart-container">
<h2>Recent Activity</h2>
<canvas id="activityChart" style="height:300px"></canvas>
</div>

</div>

</div>
</div>
</div>

<script src="script.js"></script>

</body>
</html>
